<div class="text-danger" ng-bind="self.errMsg"></div>
<!-- <div class="text-success" ng-bind="vm.resp"></div> -->
<div class="card">
        <div class="card-header" data-background-color="purple">
            <h4 class="title">USER MANAGEMENT</h4>
            <p class="category">This is a site that manage the users</p>
        </div>
    <div class="card-content table-responsive">
        <table class="table table-hover">
            <thead class="text-primary">
                <tr>
                    <th></th>
                    <th><h6>ID</h6></th>
                    <th><h6>Username</h6></th>
                    <th><h6>Email</h6></th>
                    <th><h6>Status</h6></th>
                    <th><h6>Role</h6></th>
                    <th><h6>Fullname</h6></th>
                    <th style="padding-left: 75px;"><h6>Action</h6></th>
                </tr>
            </thead>
            <tbody>
        
                <tr ng-repeat="user in self.users | pagination: self.curPage: self.userPerPage | filter:self.searchStr  track by $index">
                    <td>
                        <input type="checkbox">
                    </td>
                    <td ng-bind="user.idUser"></td>
                    <td ng-bind="user.username"></td>
                    <td ng-bind="user.email"></td>
                    <td> 
                        <span 
                            ng-if="user.status === 'Inactive'" 
                            class="label label-danger" 
                            ng-bind="user.status">
                        </span>
                        <span 
                            ng-if="!(user.status === 'Inactive')" 
                            class="label label-success" 
                            ng-bind="user.status">
                        </span>
                    </td>
                    <td >
                        <span ng-if="user.role === 1">Administrator </span>
                        <span ng-if="user.role === 2">User</span>
                    </td>
                    <td ng-bind="user.fullname"></td>
                    <td>
                        <button 
                         class="btn btn-success btn-xs"
                         title="group user"
                         data-toggle="modal"
                         data-target="#add-group-modal"
                         ng-click="self.addGroupUserOnClick(user.idUser)">
                            <i class="material-icons">add</i>
                        </button>
                        <button 
                         title="edit user"
                         data-toggle="modal"
                         data-target="#edit-user-modal"
                         class="btn btn-success btn-xs"
                         ng-click="self.editUserOnClick(user.idUser)" >
                            <i class="material-icons">edit</i>
                        </button>
                        <button 
                         title="deactive user"
                         class="btn btn-danger btn-xs" >
                            <i class="material-icons">lock</i>
                        </button>
                        <button 
                         class="btn btn-danger btn-xs" 
                         title="remove user"
                         ng-click="self.removeUserOnClick(user.idUser)">
                            <i class="material-icons">delete</i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="row">

   <div class="col-sm-10 col-md-10 col-lg-10">
        <label>User per page :</label>
        <select ng-model="self.userPerPage">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="25">25</option>
        </select>
   </div>

    <button 
     class="btn btn-success"
     title="add a user"
     data-toggle="modal"
     data-target="#add-user-modal">Add User
    </button>



</div>

<!--===== modal ====-->
<div>
    <add-user-modal add-user-success="self.addUserSuccess"></add-user-modal>
    <add-group-modal user-id="self.addGroupUser"></add-group-modal>
    <edit-user-modal 
     edit-user-success="self.editUserSuccess"
     id-user="self.editUser">
    </edit-user-modal>
</div>

<!--===================== pagination =========================-->
<div class="row">
    <div class="col-sm-5 col-md-5 col-lg-5"></div>
    <div class="col-sm-5 col-md-5 col-lg-5">
        <ul class="pagination pagination-sm">
            <li ng-repeat="page in [] | range: self.numPage" ng-class="{'active' : page === self.curPage}">
                <a ng-bind="page" ng-click="self.changePage(page)"></a>
            </li>
        </ul>
    </div>
    <div class="col-sm-2 col-md-2 col-lg-2"></div>
</div>